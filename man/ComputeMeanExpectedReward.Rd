% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/datapostprocessing.R
\name{ComputeMeanExpectedReward}
\alias{ComputeMeanExpectedReward}
\title{Compute Mean Expected Reward as a Percentage of Optimal}
\usage{
ComputeMeanExpectedReward(
  SimData,
  ExRewards,
  Prices,
  NumIter,
  NumSimulations,
  PriceGranularity,
  TrueOptimal = NULL,
  Cumulative = FALSE
)
}
\arguments{
\item{SimData}{A data frame containing simulation results. Must include a \code{PricesTested}
column representing the price chosen at each iteration across simulations.}

\item{ExRewards}{A list containing the true optimal price, ratio of maximum possible to true optimal,
and the expected rewards at every price in test set.}

\item{Prices}{A vector of prices in the test set.}

\item{NumIter}{Integer. Number of iterations (consumers) in each simulation run.}

\item{NumSimulations}{Integer. Number of independent simulation runs.}

\item{PriceGranularity}{Numeric. Granularity (step size) of the price grid; used to match
observed prices to expected reward values via rounding.}

\item{TrueOptimal}{Optional numeric. If provided, used as the benchmark optimal reward.
If \code{NULL}, the optimal is computed as the maximum of \code{ExRewards}.}

\item{Cumulative}{Logical. If \code{TRUE}, computes the cumulative mean expected reward
as a percentage of cumulative optimal reward.}
}
\value{
A numeric vector of length \code{NumIter}:
\itemize{
  \item If \code{Cumulative = FALSE}, each entry is the average expected reward at that iteration,
        normalized by the optimal reward.
  \item If \code{Cumulative = TRUE}, each entry reflects the cumulative average expected reward
        up to that iteration, normalized by the cumulative optimal reward.
}
}
\description{
Computes the mean expected reward at each iteration of a bandit simulation,
expressed as a percentage of the true optimal reward. The function accounts
for multiple simulations and optionally computes cumulative performance over time.
}
